# 问题修复计划

## 问题分析

### 1. 文章详情页问题
**现象**: 点击任何文章都跳转到"React 18新特性解析"示例文章
**原因**: `ArticleDetailPage.tsx` 使用硬编码的示例数据，未从后端 API 获取
**修复**: 从后端 API 获取文章详情数据

### 2. 首页展示示例数据
**现象**: 没有文章和说说但首页仍展示示例
**原因**: `HomePage.tsx` 使用硬编码的 `featuredArticles`、`recentMoments`、`friends` 数据
**修复**: 从后端 API 获取数据，无数据时显示空状态

### 3. 说说管理获取失败
**现象**: 管理平台说说管理页面报错"获取说说列表失败"
**原因**: 后端返回的数据格式与前端期望不匹配
**修复**: 检查后端 API 返回格式，调整前端数据处理

### 4. 文章分类不可编辑
**现象**: 文章管理中分类选择固定
**原因**: 分类选项硬编码在表单中
**修复**: 添加分类管理功能，从后端动态获取分类列表

### 5. 管理后台主题问题
**现象**: 登录界面和管理界面有白天/黑夜模式切换
**原因**: 使用了 Ant Design 的主题切换功能
**修复**: 统一使用暗色主题，移除主题切换

---

## 修复方案

### 1. 修复 ArticleDetailPage.tsx
- 从后端 API 获取文章详情
- 处理加载状态和错误状态
- 增加阅读量功能

### 2. 修复 HomePage.tsx
- 从后端 API 获取最新文章
- 从后端 API 获取最新说说
- 从后端 API 获取友链列表
- 无数据时显示空状态提示

### 3. 修复 MomentManagePage.tsx
- 检查后端 API 返回格式
- 调整数据处理逻辑

### 4. 添加分类管理
- 后端添加分类 API
- 前端文章管理页面动态获取分类

### 5. 统一暗色主题
- 修改 AdminLayout.tsx
- 修改 LoginPage.tsx
- 移除主题切换功能

---

## 修改文件清单

| 文件 | 修改内容 |
|------|----------|
| `frontend/src/pages/ArticleDetailPage.tsx` | 从 API 获取文章详情 |
| `frontend/src/pages/HomePage.tsx` | 从 API 获取首页数据 |
| `frontend/src/pages/admin/MomentManagePage.tsx` | 修复数据格式处理 |
| `frontend/src/pages/admin/ArticleManagePage.tsx` | 动态获取分类 |
| `frontend/src/components/admin/AdminLayout.tsx` | 统一暗色主题 |
| `frontend/src/pages/admin/LoginPage.tsx` | 统一暗色主题 |
| `frontend/src/App.tsx` | 移除管理后台主题切换 |
